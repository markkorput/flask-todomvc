// Generated by CoffeeScript 1.6.3
(function() {
  this.GameVisuals = (function() {
    function GameVisuals(_opts) {
      this.options = _opts;
      this.two = new Two({
        autostart: true,
        fullscreen: false,
        type: Two.Types.svg
      }).appendTo(document.body);
      $(window).on('resize', this._resize);
      this._initScene();
      if (this.options.game_states) {
        this.options.game_states.on('add', this._transitionToState, this);
      }
    }

    GameVisuals.prototype._resize = function() {
      if (!this.two) {
        return;
      }
      this.two.renderer.setSize($(window).width(), $(window).height());
      this.two.width = this.two.renderer.width;
      return this.two.height = this.two.renderer.height;
    };

    GameVisuals.prototype._initScene = function() {
      var bg;
      bg = this.two.makeRectangle(this.two.width / 2, this.two.height / 2, this.two.width, this.two.height);
      bg.fill = '#92adac';
      bg.noStroke();
      return this.two.add(bg);
    };

    GameVisuals.prototype.previousState = function() {
      return this.options.game_states.at(this.options.game_states.length - 2);
    };

    GameVisuals.prototype._transitionToState = function(newState) {
      console.log('new state');
      console.log(newState);
      return console.log(this.previousState());
    };

    return GameVisuals;

  })();

}).call(this);
